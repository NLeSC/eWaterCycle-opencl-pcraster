<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>PCRaster LinkOut API: pcrlinkin.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PCRaster LinkOut API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pcrlinkin_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pcrlinkin.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;pcrdll.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pcrlinkin.h:</div>
<div class="dyncontent">
<div class="center"><img src="pcrlinkin_8h__incl.png" border="0" usemap="#pcrlinkin_8h" alt=""/></div>
<map name="pcrlinkin_8h" id="pcrlinkin_8h">
</map>
</div>
</div>
<p><a href="pcrlinkin_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab724002a22f3d1baf7a6a4155166602d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcrlinkin_8h.html#ab724002a22f3d1baf7a6a4155166602d">INCLUDED_PCRDLL</a></td></tr>
<tr class="separator:ab724002a22f3d1baf7a6a4155166602d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a961bb27c7903d2afe3e4a3889e7def18"><td class="memItemLeft" align="right" valign="top">typedef void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcrlinkin_8h.html#a961bb27c7903d2afe3e4a3889e7def18">LinkInTransferArray</a> []</td></tr>
<tr class="memdesc:a961bb27c7903d2afe3e4a3889e7def18"><td class="mdescLeft">&#160;</td><td class="mdescRight">memory buffer for <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a>  <a href="#a961bb27c7903d2afe3e4a3889e7def18">More...</a><br/></td></tr>
<tr class="separator:a961bb27c7903d2afe3e4a3889e7def18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8b54ed90d1ab14f84e4ecf80f8558b2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcrlinkin_8h.html#a8b54ed90d1ab14f84e4ecf80f8558b2f">pcr_LinkInRunContext</a> (int nrRows, int nrCols, double cellSize, double xLowerLeftCorner, double yLowerLeftCorner, int timeStep)</td></tr>
<tr class="memdesc:a8b54ed90d1ab14f84e4ecf80f8558b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">recieve the run context prior to each <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a> call.  <a href="#a8b54ed90d1ab14f84e4ecf80f8558b2f">More...</a><br/></td></tr>
<tr class="separator:a8b54ed90d1ab14f84e4ecf80f8558b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ddb53f338999a91fdd4ac37cfd44cbb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcrlinkin_8h.html#a2ddb53f338999a91fdd4ac37cfd44cbb">pcr_LinkInCheck</a> (const char *xml)</td></tr>
<tr class="memdesc:a2ddb53f338999a91fdd4ac37cfd44cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform typecheck for the pcrxml::callPoint found in <em>xml</em>  <a href="#a2ddb53f338999a91fdd4ac37cfd44cbb">More...</a><br/></td></tr>
<tr class="separator:a2ddb53f338999a91fdd4ac37cfd44cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3779b696141297a5003c28fe71b2240f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f">pcr_LinkInExecute</a> (const char *xml, <a class="el" href="pcrlinkin_8h.html#a961bb27c7903d2afe3e4a3889e7def18">LinkInTransferArray</a> linkInTransferArray)</td></tr>
<tr class="memdesc:a3779b696141297a5003c28fe71b2240f"><td class="mdescLeft">&#160;</td><td class="mdescRight">execute the pcrxml::callPoint found in <em>xml</em>  <a href="#a3779b696141297a5003c28fe71b2240f">More...</a><br/></td></tr>
<tr class="separator:a3779b696141297a5003c28fe71b2240f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab724002a22f3d1baf7a6a4155166602d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INCLUDED_PCRDLL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="pcrlinkin_8h_source.html#l00006">6</a> of file <a class="el" href="pcrlinkin_8h_source.html">pcrlinkin.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a961bb27c7903d2afe3e4a3889e7def18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* LinkInTransferArray[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>memory buffer for <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a> </p>
<p>LinkInTransferArray is used in <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a> as an array with the addresses of all result and argument (input) data.</p>
<p>If the callPoint to execute yield <em>r</em> results and has <em>a</em> arguments (excluding an optional string argument), then the size of the array is expected to be <em>r+a</em>. The first <em>r</em> positions are for the results and the next <em>a</em> positions for the arguments. In other words, the first result is at position 0, and the first argument at position <em>r</em>.</p>
<p>All memory buffers with addresses in the array are managed (allocated and released) by the PCRaster Modeling Engine. The types of the buffer are determined per buffer on their respective pcrxml::result and pcrxml::argument elements</p>
<p>Each buffer is of one of the following elementary types:</p>
<ul>
<li>unsigned char*: (UINT1) 8 bit byte for pcrxml::dataType equals boolean or ldd.</li>
<li>int*: (INT4) 32 bit integer for pcrxml::dataType equals nominal or ordinal.</li>
<li>float*: (REAL4) 32 bit float for pcrxml::dataType equals scalar or directional.</li>
</ul>
<p>The type of the buffer is either:</p>
<ul>
<li>the address of single value if pcrxml::spatialType equals NonSpatial</li>
<li>the address of an array of size pcrxml::nrRows * pcrxml::nrCols if pcrxml::spatialType equals Spatial</li>
</ul>
<p>To detect and set Missing Values (e.g. NoData):</p>
<ul>
<li>UINT1: use the value 255</li>
<li>INT4: use the value -2147483647</li>
<li>REAL4: use a NAN value with all bits set to 1.</li>
</ul>
<p>More Missing Value information is in the PCRaster CSF file format specification. </p>

<p>Definition at line <a class="el" href="pcrlinkin_8h_source.html#l00053">53</a> of file <a class="el" href="pcrlinkin_8h_source.html">pcrlinkin.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2ddb53f338999a91fdd4ac37cfd44cbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pcr_LinkInCheck </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xml</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>perform typecheck for the pcrxml::callPoint found in <em>xml</em> </p>
<p>This function can check a callPoint on its actual type information. Based on the type information feeded it can generate the possible types of the results and arguments. Note that this function may be called multiple times for the same pcrxml::callPoint, before actual execution (<a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a>).</p>
<p>This function is optional in a linkin library. If not present the modelling engine expects all functions, classes and methods to have "simple types".</p>
<p>Note: pcrxml::context is currently always empty. <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a> will have pcrxml::context set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xml</td><td>xml string with root-element pcrxml::linkInCheckInput </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>xml string with root-element pcrxml::linkInCheckResult Buffer space of pointer should be allocated by the LinkIn library and should be kept. </dd></dl>

</div>
</div>
<a class="anchor" id="a3779b696141297a5003c28fe71b2240f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pcr_LinkInExecute </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pcrlinkin_8h.html#a961bb27c7903d2afe3e4a3889e7def18">LinkInTransferArray</a>&#160;</td>
          <td class="paramname"><em>linkInTransferArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>execute the pcrxml::callPoint found in <em>xml</em> </p>
<p>This is the only function that MUST be defined in the library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xml</td><td>description of call, pcrxml::linkInExecuteInput root-element </td></tr>
    <tr><td class="paramname">linkInTransferArray</td><td>inputs and results </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error occured, pointer to C-string with error message if error occured. buffer space of pointer should be allocated by the LinkIn library and should be kept. If the library defines pcr_LinkInRunContext (Simple Mode) then the string contents is expected to be a text-string (no XML) otherwise the buffer should contain an XML string with pcrxml::linkInExecuteResult as root-element. </dd></dl>

</div>
</div>
<a class="anchor" id="a8b54ed90d1ab14f84e4ecf80f8558b2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pcr_LinkInRunContext </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrRows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrCols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cellSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>xLowerLeftCorner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yLowerLeftCorner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeStep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>recieve the run context prior to each <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a> call. </p>
<p>If the library defines this function then prior to each <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a> call, this function is called. It enables a library programmer to store the information passed by the arguments. <a class="el" href="pcrlinkin_8h.html#a8b54ed90d1ab14f84e4ecf80f8558b2f" title="recieve the run context prior to each pcr_LinkInExecute() call.">pcr_LinkInRunContext()</a> is intended for Simple Mode library development, where the same run context information encoded in the xml argument string of <a class="el" href="pcrlinkin_8h.html#a3779b696141297a5003c28fe71b2240f" title="execute the pcrxml::callPoint found in xml ">pcr_LinkInExecute()</a> can then be ignored because all information needed is passed by this function. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="pcrlinkin_8h.html">pcrlinkin.h</a></li>
    <li class="footer">Generated on Tue Sep 17 2013 14:56:38 for PCRaster LinkOut API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
