<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PCRaster LinkOut API: apiDocsMain Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>apiDocsMain</h1><a href="api_docs_main.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00082"></a>00082          s=<a class="code" href="pcrcalc_8h.html#a7f99ded6ed5aa8a64e3f36c60f745e76" title="create the PcrScript object by supplying a filename of a XML file with the script...">pcr_createScriptFromXMLFile</a>(argv[1]);
<a name="l00083"></a>00083          <span class="keywordflow">if</span> (!s) {
<a name="l00084"></a>00084             printf(<span class="stringliteral">&quot;PANIC allocation of a few bytes failed&quot;</span>);
<a name="l00085"></a>00085             abort();
<a name="l00086"></a>00086          }
<a name="l00087"></a>00087  
<a name="l00088"></a>00088          <span class="comment">/* typical error: case.xml is not existant */</span>
<a name="l00089"></a>00089          checkError(s);
<a name="l00090"></a>00090  
<a name="l00091"></a>00091          <a class="code" href="pcrcalc_8h.html#a2fe8d8b91735be6311dd52ea89a5dd77" title="Execute entire script.">pcr_ScriptExecute</a>(s);
<a name="l00092"></a>00092          <span class="comment">/* typical errors:</span>
<a name="l00093"></a>00093 <span class="comment">          * - case.xml is malformed</span>
<a name="l00094"></a>00094 <span class="comment">          * - some inputs are not found</span>
<a name="l00095"></a>00095 <span class="comment">          * - resource error: memory/disk full</span>
<a name="l00096"></a>00096 <span class="comment">          */</span>
<a name="l00097"></a>00097          checkError(s);
<a name="l00098"></a>00098  
<a name="l00099"></a>00099          <a class="code" href="pcrcalc_8h.html#a514a9ec3d9ade56ecc6b47c2620aceda" title="clean up PcrScript object">pcr_destroyScript</a>(s);
<a name="l00100"></a>00100  
<a name="l00101"></a>00101          <span class="keywordflow">return</span> 0;
<a name="l00102"></a>00102       }
<a name="l00103"></a>00103  
<a name="l00104"></a>00104  
<a name="l00105"></a>00105     \endcode
<a name="l00106"></a>00106  
<a name="l00107"></a>00107     The examples in csharp/ScriptTest.cs uses the
<a name="l00108"></a>00108      API <span class="stringliteral">&quot;as-is&quot;</span> in respect to minimizing the use of C# language features. 
<a name="l00109"></a>00109     Therefor the code can be used as examples <span class="keywordflow">for</span> other client languages
<a name="l00110"></a>00110     such as Java, Delphi or Visual Basic.
<a name="l00111"></a>00111  
<a name="l00112"></a>00112  
<a name="l00113"></a>00113     \section xmlDocumentation The XML vocabulary
<a name="l00114"></a>00114  
<a name="l00115"></a>00115     A single XML vocabulary defined in PCRaster.xsd is used in two roles (in and out):
<a name="l00116"></a>00116      - in: <a class="code" href="pcrcalc_8h.html#a7f99ded6ed5aa8a64e3f36c60f745e76" title="create the PcrScript object by supplying a filename of a XML file with the script...">pcr_createScriptFromXMLFile</a>(), <a class="code" href="pcrcalc_8h.html#abdea59f214d50874fb22905127ac09c6" title="create the PcrScript object by supplying the XML as a string with the script root...">pcr_createScriptFromXMLString</a>() to create a script.
<a name="l00117"></a>00117      - out: pcr_ScriptXmlReflection() to retrieve meta information from a script.
<a name="l00118"></a>00118  
<a name="l00119"></a>00119     Within the PCRaster.xsd schema the XML nodes are documented within an
<a name="l00120"></a>00120     xs:annotation element (view XML source in Visual Studio).
<a name="l00121"></a>00121     The difference in application of the [in] and [out] case of certain nodes is
<a name="l00122"></a>00122     clearly stated.  Note that not all nodes present in PCRaster.xsd are used in the current API.
<a name="l00123"></a>00123  
<a name="l00124"></a>00124     \section errorHandling Error Handling
<a name="l00125"></a>00125  
<a name="l00126"></a>00126     All functions will store a possible error description in the <a class="code" href="pcrcalc_8h.html#ae02affc4b42263cf2aa930077f3267c0">PcrScript</a> object.
<a name="l00127"></a>00127     The success of all functions can be checked of the function call by evaluating
<a name="l00128"></a>00128     the result of <a class="code" href="pcrcalc_8h.html#a7eda34df6c30d13450d01b52efcb431f">pcr_ScriptError</a>() and/or <a class="code" href="pcrcalc_8h.html#a06d9069e413faa07870f13015c40bded">pcr_ScriptErrorMessage</a>().
<a name="l00129"></a>00129     Errors on a <a class="code" href="pcrcalc_8h.html#ae02affc4b42263cf2aa930077f3267c0">PcrScript</a> object are NOT recoverable; All successive calls on
<a name="l00130"></a>00130     the same <a class="code" href="pcrcalc_8h.html#ae02affc4b42263cf2aa930077f3267c0">PcrScript</a> will <span class="keywordflow">do</span> nothing. A <a class="code" href="pcrcalc_8h.html#ae02affc4b42263cf2aa930077f3267c0">PcrScript</a> <span class="keywordtype">object</span> in error state should
<a name="l00131"></a>00131     still be deleted with <a class="code" href="pcrcalc_8h.html#a514a9ec3d9ade56ecc6b47c2620aceda" title="clean up PcrScript object">pcr_destroyScript</a>().
<a name="l00132"></a>00132  */
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Oct 3 00:06:51 2013 for PCRaster LinkOut API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
